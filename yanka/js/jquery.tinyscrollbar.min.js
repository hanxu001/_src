(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)})(function(n){"use strict";function r(r,u){function it(){return f.update(),ut(),f}function rt(){e.css(o,f.thumbPosition);c.css(o,-f.contentPosition);l.css(h,f.trackSize);a.css(h,f.trackSize);e.css(h,f.thumbSize)}function ut(){k&&(b[0].ontouchstart=function(n){1===n.touches.length&&(n.stopPropagation(),w(n.touches[0]))});e.bind("mousedown",function(n){n.stopPropagation();w(n)});a.bind("mousedown",function(n){w(n,!0)});n(window).resize(function(){f.update("relative")});f.options.wheel&&window.addEventListener?r[0].addEventListener(tt,nt,!1):f.options.wheel&&(r[0].onmousewheel=nt)}function d(){return f.contentPosition>0}function g(){return f.contentPosition<=f.contentSize-f.viewportSize-5}function w(i,r){f.hasContentToSroll&&(n("body").addClass("noSelect"),p=r?e.offset()[o]:v?i.pageX:i.pageY,k&&(document.ontouchmove=function(n){(f.options.touchLock||d()&&g())&&n.preventDefault();n.touches[0][t+"Touch"]=1;y(n.touches[0])},document.ontouchend=s),n(document).bind("mousemove",y),n(document).bind("mouseup",s),e.bind("mouseup",s),a.bind("mouseup",s),y(i))}function nt(t){if(f.hasContentToSroll){var i=t||window.event,u=-(i.deltaY||i.detail||-1/3*i.wheelDelta)/40,s=i.deltaMode===1?f.options.wheelSpeed:1;f.contentPosition-=u*s*f.options.wheelSpeed;f.contentPosition=Math.min(f.contentSize-f.viewportSize,Math.max(0,f.contentPosition));f.thumbPosition=f.contentPosition/f.trackRatio;r.trigger("move");e.css(o,f.thumbPosition);c.css(o,-f.contentPosition);(f.options.wheelLock||d()&&g())&&(i=n.event.fix(i),i.preventDefault())}t.stopPropagation()}function y(n){if(f.hasContentToSroll){var i=v?n.pageX:n.pageY,s=n[t+"Touch"]?p-i:i-p,u=Math.min(f.trackSize-f.thumbSize,Math.max(0,f.thumbPosition+s));f.contentPosition=u*f.trackRatio;r.trigger("move");e.css(o,u);c.css(o,-f.contentPosition)}}function s(){f.thumbPosition=parseInt(e.css(o),10)||0;n("body").removeClass("noSelect");n(document).unbind("mousemove",y);n(document).unbind("mouseup",s);e.unbind("mouseup",s);a.unbind("mouseup",s);document.ontouchmove=document.ontouchend=null}this.options=n.extend({},i,u);this._defaults=i;this._name=t;var f=this,b=r.find(".viewport"),c=r.find(".overview"),l=r.find(".scrollbar"),a=l.find(".track"),e=l.find(".thumb"),k="ontouchstart"in document.documentElement,tt="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",v=this.options.axis==="x",h=v?"width":"height",o=v?"left":"top",p=0;return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.hasContentToSroll=!1,this.update=function(n){var t=h.charAt(0).toUpperCase()+h.slice(1).toLowerCase();this.viewportSize=b[0]["offset"+t];this.contentSize=c[0]["scroll"+t];this.contentRatio=this.viewportSize/this.contentSize;this.trackSize=this.options.trackSize||this.viewportSize;this.thumbSize=Math.min(this.trackSize,Math.max(this.options.thumbSizeMin,this.options.thumbSize||this.trackSize*this.contentRatio));this.trackRatio=(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize);this.hasContentToSroll=this.contentRatio<1;l.toggleClass("disable",!this.hasContentToSroll);switch(n){case"bottom":this.contentPosition=Math.max(this.contentSize-this.viewportSize,0);break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(n,10)||0}return this.thumbPosition=this.contentPosition/this.trackRatio,rt(),f},it()}var t="tinyscrollbar",i={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,touchLock:!0,trackSize:!1,thumbSize:!1,thumbSizeMin:20};n.fn[t]=function(i){return this.each(function(){n.data(this,"plugin_"+t)||n.data(this,"plugin_"+t,new r(n(this),i))})}});
/*
//# sourceMappingURL=jquery.tinyscrollbar.min.js.map
*/