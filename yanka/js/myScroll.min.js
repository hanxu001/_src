var MyScroll=function(n){this.defaults={obj:".col",className:"active",pianyi:0,trigger:.5,removeClass:!0,indexCallback:null,reverse:!0,blTopAni:!0,scorllCt:!1};this.settings=$.extend(this.defaults,n);this.obj=this.settings.obj&&typeof this.settings.obj=="string"?$(this.settings.obj):obj||$(".col");this.settings.trigger>1&&(this.settings=1);this.settings.trigger<0&&(this.settings=0);this.objs=[];this.$window=$(window);this.WH;this.OH;this.aniObjs=[];this.monObjs=[];this.Init()};MyScroll.prototype={Init:function(){var n=this;n.obj.each(function(){n.objs.push($(this))});n.ReSet();n.$window.resize(function(){n.ReSet()});n.$window.scroll(function(){n.CheckScroll()})},ReSet:function(){var n=this,t;for(n.WH=n.$window.height(),t=0;t<n.objs.length;t++)n.objs[t].startPoint=n.objs[t].offset().top+n.settings.pianyi-parseInt(n.WH*n.settings.trigger),n.objs[t].endPoint=n.objs[t].offset().top+n.objs[t].height()+n.settings.pianyi;for(t=0;t<n.aniObjs.length;t++)n.aniObjs[t].startPoint=n.aniObjs[t].obj.offset().top+n.aniObjs[t].pianyi+n.settings.pianyi-parseInt(n.WH*n.settings.trigger),n.aniObjs[t].endPoint=n.aniObjs[t].obj.offset().top+n.aniObjs[t].obj.height()+n.aniObjs[t].pianyi+n.settings.pianyi;for(t=0;t<n.monObjs.length;t++)n.monObjs[t].startPoint=n.monObjs[t].obj.offset().top+n.monObjs[t].pianyi+n.settings.pianyi-parseInt(n.WH*n.settings.trigger),n.monObjs[t].endPoint=n.monObjs[t].obj.offset().top+n.monObjs[t].obj.height()+n.monObjs[t].pianyi+n.settings.pianyi;n.CheckScroll()},CheckScroll:function(){var n=this,t;for(n.OH=n.$window.scrollTop(),n.currIndex=[],t=0;t<n.objs.length;t++)n.OH>=n.objs[t].startPoint?n.objs[t].addClass(n.settings.className):n.objs[t].removeClass(n.settings.className),n.OH>n.objs[t].endPoint&&n.settings.removeClass&&n.objs[t].removeClass(n.settings.className),n.OH>=n.objs[t].startPoint&&n.OH<n.objs[t].endPoint&&n.currIndex.push(t);for(typeof n.settings.indexCallback=="function"&&n.settings.indexCallback(n.currIndex),t=0;t<n.aniObjs.length;t++)n.OH>n.aniObjs[t].startPoint&&n.OH<n.aniObjs[t].endPoint&&n.aniObjs[t].state!=="TWEENING"&&(n.aniObjs[t].state="TWEENING",n.aniObjs[t].start=n.aniObjs[t].startPoint,n.aniObjs[t].end=n.aniObjs[t].endPoint),n.OH<n.aniObjs[t].startPoint&&n.aniObjs[t].state!=="BEFORE"?(n.aniObjs[t].reverse?n.aniObjs[t].tween.reverse():n.SetTweenProgress(n.aniObjs[t].tween,0),n.aniObjs[t].state="BEFORE"):n.OH>n.aniObjs[t].endPoint&&n.aniObjs[t].state!=="AFTER"?(n.aniObjs[t].blTopAni?n.SetTweenProgress(n.aniObjs[t].tween,0):n.aniObjs[t].tween.reverse(),n.aniObjs[t].state="AFTER"):n.aniObjs[t].state==="TWEENING"&&(n.aniObjs[t].scorllCt?n.SetTweenProgress(n.aniObjs[t].tween,(n.OH-n.aniObjs[t].start)/(n.aniObjs[t].end-n.aniObjs[t].start)):n.aniObjs[t].tween.play());for(t=0;t<n.monObjs.length;t++)n.temp=(n.OH-n.monObjs[t].startPoint)/(n.monObjs[t].endPoint-n.monObjs[t].startPoint),n.temp>1&&(n.temp=1),n.temp<0&&(n.temp=0),n.monObjs[t].temp!=n.temp&&(n.monObjs[t].temp=n.temp,n.monObjs[t].callback(n.temp))},AddTween:function(n,t,i,r,u,f){var e=this;t.pause();e.aniObjs.push({obj:typeof n=="string"?$(n):n,tween:t,pianyi:i||0,reverse:r===!1?r:e.settings.reverse,state:"BEFORE",blTopAni:u?u:e.settings.blTopAni,scorllCt:f?f:e.settings.scorllCt});e.ReSet()},AddMonitor:function(n,t,i){var r=this;r.monObjs.push({obj:typeof n=="string"?$(n):n,callback:i,pianyi:t||0});r.ReSet()},SetTweenProgress:function(n,t){n&&(n.totalProgress?n.totalProgress(t).pause():n.progress(t).pause())}};
/*
//# sourceMappingURL=myScroll.min.js.map
*/